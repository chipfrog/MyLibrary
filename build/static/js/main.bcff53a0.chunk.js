(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(1),c=n(25),s=n.n(c),o=n(9),i=n(36),u=n(77),j=n(78),l=n(7),b=n.n(l),d=n(10),O=n(23),h=n.n(O),f=function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/googlebooks/".concat(t));case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="bearer ".concat(n),a={headers:{Authorization:r}},c={id:t.id,review:t.review,rating:t.rating,read:t.read,quotes:t.quotes},e.next=5,h.a.put("/api/googleBooks/edit",c,a);case 5:s=e.sent,console.log(s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(b.a.mark((function e(t,n,r){var a,c,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="bearer ".concat(r),c={headers:{Authorization:a}},s={book_id:t,quote:n},e.next=5,h.a.post("/api/googleBooks/addquote",s,c);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="bearer ".concat(n),a={headers:{Authorization:r}},c={title:t.volumeInfo.title,author:t.volumeInfo.authors[0],linkToCoverImage:t.volumeInfo.imageLinks.thumbnail,review:t.review,rating:t.rating,read:t.read,quotes:t.quotes},e.next=5,h.a.post("/api/googlebooks",c,a);case 5:return s=e.sent,console.log("Lis\xe4tty kirja: ".concat(s.data.title)),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="bearer ".concat(n),a={headers:{Authorization:r}},e.next=4,h.a.delete("/api/googlebooks/delete",{data:{config:a,id:t}});case 4:c=e.sent,console.log(c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(e){return function(){var t=Object(d.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:r=t.sent,n({type:"BOOK_SEARCH",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BOOK_SEARCH":case"INIT_SEARCH_RESULTS":return t.data;default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOK_INFO":return t.data;case"RESET_BOOK_INFO":return null;default:return e}},y=n(34),S=n(12),C=function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/user",t);case 2:return n=e.sent,console.log("User creation: ".concat(n.data)),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return{type:"SHOW_NOTIFICATION",data:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_NOTIFICATION":return t.data;case"RESET_MESSAGE":return null;default:return e}},_=function(e){return{type:"SET_OWNED_BOOK_INFO",data:{bookInfo:e}}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OWNED_BOOK_INFO":return t.data;case"RESET_OWNED_BOOK_INFO":return null;default:return e}},B={user:null},R=function(e,t,n){return function(){var r=Object(d.a)(b.a.mark((function r(a){var c;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p(e,t,n);case 3:return c=r.sent,r.next=6,a(_(c.data));case 6:a({type:"ADD_QUOTE",data:c.data}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},L=function(e){var t=e.newUsername,n=e.newPassword;return function(){var e=Object(d.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I({newUsername:t,newPassword:n});case 3:r({type:"CREATE_USER",data:B}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(N(e.t0.response.data.error));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},A=function(e){var t=e.username,n=e.password;return function(){var e=Object(d.a)(b.a.mark((function e(r){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C({username:t,password:n});case 3:a=e.sent,r({type:"LOGIN",data:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(N(e.t0.response.data.error));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},q=function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x(e,t);case 3:r({type:"UPDATE_BOOK",data:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},G=function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m(e,t);case 3:r({type:"DELETE_BOOK",data:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"LOGOUT":case"CREATE_USER":return t.data;case"ADD_BOOK":return Object(S.a)(Object(S.a)({},e),{},{user_books:[].concat(Object(y.a)(e.user_books),[t.data])});case"UPDATE_BOOK":return Object(S.a)(Object(S.a)({},e),{},{user_books:e.user_books.map((function(e){return e.id===t.data.id?Object(S.a)(Object(S.a)({},e),{},{rating:t.data.rating,review:t.data.review,quotes:t.data.quotes,read:t.data.read}):e}))});case"DELETE_BOOK":return Object(S.a)(Object(S.a)({},e),{},{user_books:e.user_books.filter((function(e){return e.id!==t.data}))});case"ADD_QUOTE":return Object(S.a)(Object(S.a)({},e),{},{user_books:e.user_books.map((function(e){return e.id===t.data.id?Object(S.a)(Object(S.a)({},e),{},{quotes:t.data.quotes}):e}))});case"RESET":return B;default:return e}},U=Object(i.combineReducers)({bookSearch:k,bookInfo:w,ownedBook:T,login:D,notification:E}),K=function(){try{var e=localStorage.getItem("userState");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),H=Object(i.createStore)(U,K,Object(j.composeWithDevTools)(Object(i.applyMiddleware)(u.a)));H.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("userState",t)}catch(n){return}}(H.getState())}));var P=H,F=n(126),z=n(117),M=n(79),W=n(118),J=n(80),Q=function(){var e=Object(o.b)(),t=function(){var t=Object(d.a)(b.a.mark((function t(r){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),a=r.target.filter.value,e(g(a)),n();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){document.getElementById("search bar").reset()};return Object(r.jsx)(F.a,{className:"mt-5 mb-5",id:"search bar",onSubmit:t,children:Object(r.jsxs)(z.a,{children:[Object(r.jsx)(M.a,{xs:{span:5,offset:3},sm:{span:6,offset:3},md:{span:6,offset:2},lg:{span:6,offset:2},children:Object(r.jsx)(F.a.Control,{type:"text",name:"filter",placeholder:"Search books"})}),Object(r.jsx)(M.a,{xs:1,children:Object(r.jsx)(W.a,{variant:"primary",type:"submit",children:Object(r.jsx)(J.a,{})})})]})})},V=n(119),X=n(27),Y=function(e){var t=e.info,n=Object(o.b)(),a=function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"SET_BOOK_INFO",data:{bookInfo:t}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)("p",{children:Object(r.jsx)(X.b,{to:"/search/".concat(t.etag),children:Object(r.jsx)(V.a,{src:t.volumeInfo.imageLinks.thumbnail,onClick:function(){return a()}})})})},Z=function(){for(var e=Object(o.c)((function(e){return e.bookSearch})),t=Object.keys(e).length,n=[],a=0,c=0,s=0,i=0;i<t;i++)c%6||(n[++a]=[]),void 0!==e[i].volumeInfo.imageLinks&&(n[a].push(e[i]),c++);return Object(r.jsx)("div",{children:n.map((function(e){return Object(r.jsx)(z.a,{className:"text-center",children:e.map((function(e){return Object(r.jsx)(M.a,{sm:6,md:4,lg:2,children:Object(r.jsx)(Y,{info:e},e.etag)},e.etag)}))},s++)}))})},$=n(127),ee=n(83),te=function(){var e=Object(o.b)();return Object(r.jsxs)($.a,{bg:"dark",variant:"dark",children:[Object(r.jsx)($.a.Brand,{as:X.b,to:"/",children:"My Library"}),Object(r.jsx)(ee.a,{className:"mr-auto",children:Object(r.jsx)(ee.a.Link,{as:X.b,to:"/search",children:"Book finder"})}),Object(r.jsx)(ee.a,{className:"ml-auto",children:Object(r.jsx)(ee.a.Link,{as:X.b,to:"/",onClick:function(){e({type:"INIT_SEARCH_RESULTS",data:[]}),e({type:"LOGOUT",data:B})},children:"Logout"})})]})},ne=n(11),re=n(121),ae=n(128),ce=n(125),se=n(120),oe=(n(42),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.notification}));return null!==t?Object(r.jsxs)(se.a,{className:"notification",variant:"danger",onClose:function(){e({type:"RESET_MESSAGE",data:null})},dismissible:!0,children:[Object(r.jsx)(se.a.Heading,{children:Object(r.jsx)("strong",{children:"Oops!"})}),Object(r.jsx)("p",{children:t})]}):null}),ie=function(){var e=Object(o.b)(),t=Object(a.useState)(!1),n=Object(ne.a)(t,2),c=n[0],s=n[1],i=function(){s(!1),k(""),C(""),_(!1),q(!1)},u=Object(a.useState)(""),j=Object(ne.a)(u,2),l=j[0],O=j[1],h=Object(a.useState)(""),f=Object(ne.a)(h,2),x=f[0],p=f[1],v=Object(a.useState)(""),m=Object(ne.a)(v,2),g=m[0],k=m[1],w=Object(a.useState)(""),y=Object(ne.a)(w,2),S=y[0],C=y[1],I=Object(a.useState)(!1),N=Object(ne.a)(I,2),E=N[0],_=N[1],T=Object(a.useState)(!1),B=Object(ne.a)(T,2),R=B[0],q=B[1],G=function(){var t=Object(d.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e(A({username:l,password:x})),O(""),p("");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(e,t){return e.length>=t},U=function(){var t=Object(d.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),D(g,5)||_(!0),D(S,5)?(console.log("Username: ".concat(g,", Password: ").concat(S)),e(L({newUsername:g,newPassword:S})),i()):q(!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)(re.a,{fluid:!0,className:"testi",children:[Object(r.jsx)(oe,{className:"notify"}),Object(r.jsxs)(ae.a,{className:"card",bg:"light",border:"dark",children:[Object(r.jsx)(ae.a.Header,{className:"text-center",children:Object(r.jsx)("h2",{children:"Login"})}),Object(r.jsx)(ae.a.Body,{children:Object(r.jsxs)(F.a,{onSubmit:G,children:[Object(r.jsxs)(F.a.Group,{controlId:"formBasicText",children:[Object(r.jsx)(F.a.Label,{children:"Username"}),Object(r.jsx)(F.a.Control,{type:"text",name:"usernameLogin",value:l,placeholder:"Username",onChange:function(e){var t=e.target;return O(t.value)}})]}),Object(r.jsxs)(F.a.Group,{controlId:"formBasicPassword",children:[Object(r.jsx)(F.a.Label,{children:"Password"}),Object(r.jsx)(F.a.Control,{type:"password",name:"passwordLogin",value:x,placeholder:"Password",onChange:function(e){var t=e.target;return p(t.value)}})]}),Object(r.jsx)(W.a,{variant:"primary",type:"submit",children:"Login"})," ",Object(r.jsx)(W.a,{variant:"success",onClick:function(){return s(!0)},children:"Create User"})]})})]}),Object(r.jsxs)(ce.a,{show:c,onHide:i,backdrop:"static",keyboard:!1,children:[Object(r.jsx)(ce.a.Header,{closeButton:!0,children:Object(r.jsx)(ce.a.Title,{children:"Register new user"})}),Object(r.jsx)(ce.a.Body,{children:Object(r.jsxs)(F.a,{onSubmit:U,children:[Object(r.jsxs)(F.a.Group,{children:[Object(r.jsx)(F.a.Row,{children:Object(r.jsx)(F.a.Label,{children:"Username"})}),Object(r.jsx)(F.a.Row,{children:Object(r.jsx)(F.a.Control,{type:"text",name:"usernameRegister",value:g,placeholder:"Choose your username",onChange:function(e){var t,n=e.target;return t=n.value,k(t),void(D(t,5)?_(!1):_(!0))}})}),E&&Object(r.jsx)(F.a.Row,{style:{color:"red"},children:"Username must be at least 5 characters long!"})]}),Object(r.jsxs)(F.a.Group,{children:[Object(r.jsx)(F.a.Row,{children:Object(r.jsx)(F.a.Label,{children:"Password"})}),Object(r.jsx)(F.a.Row,{children:Object(r.jsx)(F.a.Control,{type:"password",name:"passwordRegister",value:S,placeholder:"Choose a secure password",onChange:function(e){var t,n=e.target;return t=n.value,C(t),void(D(t,5)?q(!1):q(!0))}})}),R&&Object(r.jsx)(F.a.Row,{style:{color:"red"},children:"Password must be at least 5 characters long!"})]}),Object(r.jsxs)(F.a.Group,{as:z.a,children:[Object(r.jsx)(M.a,{xs:3,children:Object(r.jsx)(W.a,{type:"submit",children:"Submit"})}),Object(r.jsx)(M.a,{xs:3,children:Object(r.jsx)(W.a,{variant:"danger",onClick:i,children:"Cancel"})})]})]})})]})]})},ue=function(e){var t=e.bookInfo,n=e.handleClose,c=e.show,s=Object(o.b)(),i=Object(o.c)((function(e){return e.login.token})),u=void 0!==t.volumeInfo,j=Object(a.useState)((function(){return u?"":t.review})),l=Object(ne.a)(j,2),O=l[0],h=l[1],f=Object(a.useState)(""),x=Object(ne.a)(f,2),p=x[0],m=x[1],g=Object(a.useState)((function(){return u?[]:t.quotes})),k=Object(ne.a)(g,2),w=k[0],y=k[1],C=Object(a.useState)((function(){return u?0:t.quotes.length})),I=Object(ne.a)(C,2),N=I[0],E=I[1],T=Object(a.useState)(1),B=Object(ne.a)(T,2),R=B[0],L=B[1],A=Object(a.useState)(!1),G=Object(ne.a)(A,2),D=G[0],U=G[1],K=function(){var e=Object(S.a)(Object(S.a)({},t),{},{rating:R,review:O,read:D,quotes:w});s(function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v(e,t);case 3:a=n.sent,r({type:"ADD_BOOK",data:a.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(e,i)),h(""),L(1),U(!1),m(""),y([]),E(0),n()},H=function(){var e=Object(d.a)(b.a.mark((function e(){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(S.a)(Object(S.a)({},t),{},{review:O,quotes:w}),console.log(r),s(q(r,i)),s(_(r)),n();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(ce.a,{size:"xl",show:c,onHide:n,backdrop:"static",keyboard:!1,children:[Object(r.jsx)(ce.a.Header,{closeButton:!0,children:u?Object(r.jsxs)(ce.a.Title,{children:[t.volumeInfo.title," by ",t.volumeInfo.authors]}):Object(r.jsxs)(ce.a.Title,{children:[t.title," by ",t.author]})}),Object(r.jsx)(ce.a.Body,{children:Object(r.jsxs)(F.a,{className:"pt-4 text-left",children:[Object(r.jsx)(F.a.Row,{children:u&&Object(r.jsxs)(F.a.Group,{controlId:"formGrade",children:[Object(r.jsx)(F.a.Label,{children:"Grade"}),Object(r.jsxs)(F.a.Control,{as:"select",value:R,onChange:function(e){return L(e.target.value)},children:[Object(r.jsx)("option",{value:1,children:"1"}),Object(r.jsx)("option",{value:2,children:"2"}),Object(r.jsx)("option",{value:3,children:"3"}),Object(r.jsx)("option",{value:4,children:"4"}),Object(r.jsx)("option",{value:5,children:"5"}),Object(r.jsx)("option",{value:6,children:"6"}),Object(r.jsx)("option",{value:7,children:"7"}),Object(r.jsx)("option",{value:8,children:"8"}),Object(r.jsx)("option",{value:9,children:"9"}),Object(r.jsx)("option",{value:10,children:"10"})]})]})}),Object(r.jsx)(F.a.Row,{children:Object(r.jsxs)(F.a.Group,{as:M.a,controlId:"formReview",children:[Object(r.jsx)(F.a.Label,{children:"Review"}),Object(r.jsx)(F.a.Control,{as:"textarea",rows:10,value:O,onChange:function(e){return h(e.target.value)}})]})}),Object(r.jsx)(F.a.Row,{children:Object(r.jsxs)(F.a.Group,{as:M.a,children:[Object(r.jsx)(F.a.Label,{children:"Favorite quotes"}),Object(r.jsx)(F.a.Control,{as:"textarea",rows:6,value:p,onChange:function(e){return m(e.target.value)}})]})}),Object(r.jsxs)(F.a.Row,{children:[Object(r.jsx)(F.a.Group,{as:M.a,children:Object(r.jsx)(W.a,{onClick:function(){y(w.concat(p)),m(""),E(N+1)},children:"Add quote"})}),Object(r.jsxs)(F.a.Group,{as:M.a,children:["Quotes saved: ",N]}),Object(r.jsx)(F.a.Group,{as:M.a,controlId:"formBookRead",children:Object(r.jsx)(F.a.Check,{label:"Book read",onChange:function(){return U(!D)}})})]}),Object(r.jsx)(F.a.Row,{children:Object(r.jsx)(F.a.Group,{as:M.a,children:Object(r.jsx)(W.a,{onClick:function(){u?K():H()},children:"Submit"})})})]})})]})},je=function(){var e=Object(o.c)((function(e){return e.bookInfo})).bookInfo,t=Object(a.useState)(!1),n=Object(ne.a)(t,2),c=n[0],s=n[1];return null===e?Object(r.jsx)("h2",{children:"undefined"}):Object(r.jsxs)(re.a,{className:"pt-4 text-center",children:[Object(r.jsx)("h2",{children:e.volumeInfo.title}),Object(r.jsx)("h3",{children:e.volumeInfo.subtitle}),Object(r.jsx)("h5",{children:Object(r.jsx)("i",{children:e.volumeInfo.authors})}),Object(r.jsxs)(z.a,{className:"pt-4",children:[Object(r.jsx)(M.a,{md:6,children:Object(r.jsx)(V.a,{src:e.volumeInfo.imageLinks.thumbnail})}),Object(r.jsx)(M.a,{className:"text-justify",children:e.volumeInfo.description})]}),Object(r.jsxs)(z.a,{className:"pt-4",children:[Object(r.jsx)(M.a,{children:Object(r.jsx)(W.a,{onClick:function(){return s(!0)},children:"Add book"})}),Object(r.jsx)(M.a,{})]}),Object(r.jsx)(ue,{bookInfo:e,handleClose:function(){return s(!1)},show:c})]})},le=n(122),be=n(30),de=function(){var e=Object(o.c)((function(e){return e.login.user_books})),t=Object(a.useState)(Object(y.a)(e)),n=Object(ne.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)("rating"),u=Object(ne.a)(i,2),j=u[0],l=u[1],O=Object(a.useState)("rating"),h=Object(ne.a)(O,2),f=h[0],x=h[1],p=Object(a.useState)(!0),v=Object(ne.a)(p,2),m=v[0],g=v[1],k=Object(a.useState)(!0),w=Object(ne.a)(k,2),S=w[0],C=w[1],I=Object(a.useState)(!0),N=Object(ne.a)(I,2),E=N[0],T=N[1],B=Object(o.b)(),R=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(_(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!function(){var e=[],t={title:"title",author:"author",rating:"rating"}[j];e={title:S,author:E,rating:m}[f]?Object(y.a)(c).sort((function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0})):Object(y.a)(c).sort((function(e,n){return n[t]>e[t]?-1:n[t]<e[t]?1:0})),s(e)}()}),[j,m,S,E]);var L=function(e){x(e),l(e),A(e)},A=function(e){switch(e){case"rating":g(!m);break;case"title":C(!S);break;case"author":T(!E)}};return Object(r.jsx)(re.a,{fluid:!0,className:"bookshelf",children:Object(r.jsx)(z.a,{children:Object(r.jsx)(M.a,{xs:2,md:6,children:Object(r.jsxs)(le.a,{bordered:!0,hover:!0,className:"taulukko",children:[Object(r.jsx)("thead",{bgcolor:"#d1975c",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Cover"}),Object(r.jsx)("th",{children:Object(r.jsxs)(z.a,{children:[Object(r.jsx)(M.a,{xs:10,children:"Title"}),Object(r.jsx)(M.a,{xs:2,children:S?Object(r.jsx)(be.a,{className:"sortIcon",onClick:function(){return L("title")}}):Object(r.jsx)(be.b,{className:"sortIcon",onClick:function(){return L("title")}})})]})}),Object(r.jsx)("th",{children:Object(r.jsxs)(z.a,{children:[Object(r.jsx)(M.a,{xs:10,children:"Author"}),Object(r.jsx)(M.a,{xs:2,children:E?Object(r.jsx)(be.a,{className:"sortIcon",onClick:function(){return L("author")}}):Object(r.jsx)(be.b,{className:"sortIcon",onClick:function(){return L("author")}})})]})}),Object(r.jsx)("th",{children:Object(r.jsxs)(z.a,{children:[Object(r.jsx)(M.a,{xs:9,children:"Stars"}),Object(r.jsx)(M.a,{xs:1,children:m?Object(r.jsx)(be.c,{className:"sortIcon",onClick:function(){return L("rating")}}):Object(r.jsx)(be.d,{className:"sortIcon",onClick:function(){return L("rating")}})})]})})]})}),Object(r.jsx)("tbody",{bgcolor:"#edc9a4",children:c.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)(X.b,{to:"/".concat(e.title),onClick:function(){return R(e)},children:Object(r.jsx)("img",{src:e.linkToCoverImage,alt:"book cover"})})}),Object(r.jsx)("td",{className:"align-middle",children:Object(r.jsx)("b",{children:e.title})}),Object(r.jsx)("td",{className:"align-middle",children:Object(r.jsx)("b",{children:e.author})}),Object(r.jsx)("td",{className:"align-middle",children:Object(r.jsx)("b",{children:e.rating})})]},e.id)}))})]})})})})},Oe=n(124),he=function(e){var t=e.book,n=Object(o.b)(),c=Object(o.c)((function(e){return e.login.token})),s=Object(a.useState)(t.rating),i=Object(ne.a)(s,2),u=i[0],j=i[1],l=Object(a.useState)(t.rating),b=Object(ne.a)(l,2),d=b[0],O=b[1];return Object(r.jsx)("div",{children:Object(y.a)(Array(10)).map((function(e,a){var s=a+1;return Object(r.jsx)(be.e,{className:"pointer",size:30,color:d>=s?"orange":"gray",onClick:function(){return function(e){j(e),t.rating=e,n(q(t,c))}(s)},onMouseEnter:function(){return O(s)},onMouseLeave:function(){return O(u)}},a)}))})},fe=n(129),xe=n(123),pe=n(82),ve=function(){var e=Object(o.c)((function(e){return e.ownedBook.bookInfo})),t=Object(o.b)(),n=Object(o.c)((function(e){return e.login.token})),c=Object(a.useState)(!1),s=Object(ne.a)(c,2),i=s[0],u=s[1],j=Object(a.useState)(e.review),l=Object(ne.a)(j,2),O=l[0],h=l[1],f=Object(a.useState)(!1),x=Object(ne.a)(f,2),p=x[0],v=x[1],m=Object(a.useState)(null),g=Object(ne.a)(m,2),k=g[0],w=g[1],y=function(){var r=Object(d.a)(b.a.mark((function r(a){var c;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a.preventDefault(),c=Object(S.a)(Object(S.a)({},e),{},{review:O}),t(q(c,n)),t(_(c)),u(!1),v(!1);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),C=function(){var r=Object(d.a)(b.a.mark((function r(a){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a.preventDefault(),t(R(e.id,k,n)),v(!1),w(null);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(r.jsxs)(fe.a,{children:[Object(r.jsx)(xe.a,{eventKey:"review",title:"Review",children:i?Object(r.jsxs)(F.a,{onSubmit:y,children:[Object(r.jsx)(F.a.Group,{children:Object(r.jsx)(F.a.Control,{as:"textarea",rows:10,value:O,onChange:function(e){return h(e.target.value)}})}),Object(r.jsx)(W.a,{type:"submit",className:"mr-1",children:"Save changes"}),Object(r.jsx)(W.a,{variant:"secondary",onClick:function(){return u(!1)},children:"Cancel"})]}):Object(r.jsxs)(z.a,{className:"pt-2",children:[Object(r.jsx)(M.a,{xs:2,sm:1,children:Object(r.jsx)(W.a,{variant:"link",onClick:function(){return u(!i)},children:"Edit"})}),Object(r.jsx)(M.a,{xs:10,sm:11,children:O})]})}),Object(r.jsx)(xe.a,{eventKey:"quotes",title:"Quotes",children:p?Object(r.jsxs)(F.a,{onSubmit:C,children:[Object(r.jsx)(F.a.Group,{children:Object(r.jsx)(F.a.Control,{as:"textarea",rows:10,onChange:function(e){return w(e.target.value)}})}),Object(r.jsx)(W.a,{type:"submit",className:"mr-1",children:"Save quote"}),Object(r.jsx)(W.a,{variant:"secondary",onClick:function(){return v(!1)},children:"Cancel"})]}):Object(r.jsxs)(z.a,{className:"pt-2",children:[Object(r.jsx)(M.a,{xs:12,sm:2,children:Object(r.jsx)(W.a,{variant:"link",onClick:function(){return v(!p)},children:"Add quote"})}),Object(r.jsx)(M.a,{xs:12,sm:10,children:e.quotes.map((function(a){return Object(r.jsx)(z.a,{className:"mb-3",children:Object(r.jsx)(M.a,{children:Object(r.jsxs)(ae.a,{children:[Object(r.jsx)(ae.a.Header,{children:Object(r.jsx)(z.a,{children:Object(r.jsx)(M.a,{className:"pr-0 text-right",children:Object(r.jsx)(pe.a,{className:"pointer",onClick:function(){return function(r){for(var a=e.quotes,c=0;c<a.length;c++)if(a[c].id===r){a.splice(c,1);break}var s=Object(S.a)(Object(S.a)({},e),{},{quotes:a});t(q(s,n)),t(_(s))}(a.id)}})})})}),Object(r.jsx)(ae.a.Body,{className:"overflow-auto",children:Object(r.jsxs)("i",{children:[" ",a.quote]})})]})},a.id)})}))})]})})]})},me=function(){var e=Object(o.c)((function(e){return e.ownedBook.bookInfo})),t=Object(o.c)((function(e){return e.login.token})),n=Object(o.b)(),a=function(){var r=Object(d.a)(b.a.mark((function r(){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n(G(e.id,t));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Oe.a,{fluid:!0,children:Object(r.jsx)(re.a,{children:Object(r.jsxs)(z.a,{children:[Object(r.jsxs)(M.a,{xs:8,children:[Object(r.jsx)("h1",{children:e.title}),Object(r.jsx)("h5",{children:Object(r.jsx)("i",{children:e.author})}),Object(r.jsx)(he,{book:e})]}),Object(r.jsx)(M.a,{xs:4,children:Object(r.jsx)("img",{src:e.linkToCoverImage,alt:"cover"})}),Object(r.jsx)(W.a,{xsOffset:10,variant:"danger",onClick:function(){return a()},children:"Delete"})]})})}),Object(r.jsx)(re.a,{children:Object(r.jsx)(ve,{})})]})},ge=n(14),ke=function(){return null===Object(o.c)((function(e){return e.login.user}))?Object(r.jsx)(ie,{}):Object(r.jsxs)(X.a,{children:[Object(r.jsx)(te,{}),Object(r.jsxs)(ge.c,{children:[Object(r.jsx)(ge.a,{path:"/search/:etag",children:Object(r.jsx)(je,{})}),Object(r.jsxs)(ge.a,{path:"/search",children:[Object(r.jsx)("h2",{className:"mt-3 text-center",children:"Google Books Search"}),Object(r.jsx)(Q,{}),Object(r.jsx)(Z,{})]}),Object(r.jsx)(ge.a,{path:"/:title",children:Object(r.jsx)(me,{})}),Object(r.jsx)(ge.a,{path:"/",children:Object(r.jsx)(de,{})})]})]})};s.a.render(Object(r.jsx)(o.a,{store:P,children:Object(r.jsx)(ke,{})}),document.getElementById("root"))},42:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.bcff53a0.chunk.js.map